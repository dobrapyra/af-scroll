function n(n,e){const o=n.length;for(let t=0;t<o;t++){const o=e(n[t],t,n);if(!0!==o&&!1===o)break}}function e(n,e,o){return n+(e-n)*o}function o(n,e){Object.keys(e).forEach((o=>{n.style[o]=e[o]}))}function t({smoothForce:t=.8,smoothLimit:l=.2,scrollEl:c=null,className:i="afScroll",wrapExclude:r="script, link",autoHeight:u=12,onUpdate:s=(()=>{}),onComplete:a=(()=>{})}={}){const d=1-t,f=l,m=c,h=i,p=r,w=u,b=s,v=a;let g=0,E=0,k=null,y=null,A=null,F=null;const T=document.getElementsByTagName("body")[0];let L=null,q=0,C=null;function x(n){document.body.scrollTop=document.documentElement.scrollTop=n}function B(){k=null}function z(n){E=n,L.scrollTop=n,b(n)}function H(){if(null===y){if(Math.abs(g-E)<f)return z(g),B(),void v(g);z(e(E,g,d)),A=requestAnimationFrame(H)}}function N(){null!==y?x(y):null!==k&&x(k),g=window.scrollY,cancelAnimationFrame(A),A=requestAnimationFrame(H)}function S(){++q>=w&&(q=0,U()),F=requestAnimationFrame(S)}function U(){const n=L.scrollHeight;n!==C&&(C=n,o(T,{height:`${n}px`}))}function Y(){U(),U()}function j(){null===L&&(g=window.scrollY,function(){if(L=null!==m?m:document.createElement("div"),o(L,{position:"fixed",top:0,left:0,width:"100%",height:"100%",overflow:"hidden"}),null!==m)return;L.setAttribute("class",h);const e=[];n(T.children,(n=>{if(n===L||n.matches(p))return!0;e.push(n)})),n(e,(n=>{L.appendChild(n)})),T.insertBefore(L,T.children[0])}(),Y(),x(g),z(g),window.addEventListener("scroll",N),window.addEventListener("resize",Y),0!==w&&!1!==w&&(F=requestAnimationFrame(S)))}return j(),{init:j,scrollTo:function(n,e=!1){e&&(k=n),x(n)},free:B,lock:function(){y=E},unlock:function(){y=null},destroy:function(){null!==L&&(cancelAnimationFrame(A),cancelAnimationFrame(F),window.removeEventListener("scroll",N),window.removeEventListener("resize",Y),function(){if(o(T,{height:""}),q=0,C=null,null!==m)return o(L,{position:"",top:"",left:"",width:"",height:"",overflow:""}),void(L=null);const e=[];n(L.children,(n=>{e.push(n)})),n(e,(n=>{T.insertBefore(n,L)})),T.removeChild(L),L=null}(),k=null,y=null)}}}!function(){const n=t({onUpdate:n=>{console.log("update",n)},onComplete:n=>{console.log("complete",n)}});[{selector:"[data-scroll-top]",cb:()=>{n.scrollTo(0)}},{selector:"[data-scroll-top-force]",cb:()=>{n.scrollTo(0,!0)}},{selector:"[data-destroy]",cb:()=>{n.destroy()}},{selector:"[data-reinit]",cb:()=>{n.init()}},{selector:"[data-lock]",cb:()=>{n.lock()}},{selector:"[data-unlock]",cb:()=>{n.unlock()}}].map((({selector:n,cb:e})=>{document.querySelector(n).addEventListener("click",e)}))}();
//# sourceMappingURL=events.8b5e00ae.js.map
